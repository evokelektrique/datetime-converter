# مبدل تاریخ پیشرفته

این پروژه یک ابزار تحت وب برای تبدیل دقیق تاریخ بین تقویم‌های **شمسی (خورشیدی)**، **میلادی** و **قمری** است. این برنامه با رابط کاربری مدرن و ساده، به کاربران اجازه می‌دهد تا به سرعت و با اطمینان، تاریخ‌ها را به یکدیگر تبدیل کنند.



---

## ✨ ویژگی‌ها

- **پشتیبانی از تقویم‌های متنوع**:
  - تبدیل **میلادی به شمسی** و بالعکس
  - تبدیل **میلادی به قمری** و بالعکس
  - تبدیل **شمسی به قمری** و بالعکس
- **انتخاب‌گر تاریخ هوشمند**: رابط کاربری به طور خودکار نوع انتخاب‌گر تاریخ (Date Picker) را بر اساس تقویم مبدأ (شمسی یا میلادی) تغییر می‌دهد تا تجربه کاربری بهینه‌ای فراهم شود.
- **نمایش اطلاعات تکمیلی**: علاوه بر تاریخ تبدیل‌شده، **روز هفته** و **وضعیت کبیسه بودن** سال مقصد نیز نمایش داده می‌شود.
- **طراحی واکنش‌گرا (Responsive)**: رابط کاربری زیبا و کاربردی که بر روی دستگاه‌های مختلف از جمله دسکتاپ، تبلت و موبایل به خوبی نمایش داده می‌شود.
- **دقت بالا**: تمامی محاسبات بر اساس الگوریتم‌های استاندارد و تست‌شده انجام می‌شود تا نتایج با بالاترین دقت ممکن ارائه شوند.

---

## 🚀 راهنمای استفاده

کار با این ابزار بسیار ساده است:

1.  **انتخاب نوع تبدیل**: از منوی کشویی **"نوع تبدیل"**، تقویم مبدأ و مقصد مورد نظر خود را انتخاب کنید.
2.  **انتخاب تاریخ**: روی فیلد تاریخ کلیک کنید. یک تقویم تعاملی باز می‌شود که می‌توانید تاریخ مورد نظر خود را از آن انتخاب کنید.
3.  **انجام تبدیل**: روی دکمه **"تبدیل کن"** کلیک کنید.
4.  **مشاهده نتیجه**: نتیجه تبدیل به همراه اطلاعات تکمیلی فوراً در کادر نتایج در پایین فرم نمایش داده می‌شود.

---

## 📦 نصب و راه‌اندازی

برای اجرای این پروژه به صورت محلی، مراحل زیر را دنبال کنید:

1.  **نصب وابستگی‌ها**:
    این پروژه از [Composer](https://getcomposer.org/) برای مدیریت وابستگی‌های توسعه (مانند PHPUnit) استفاده می‌کند. دستور زیر را برای نصب آن‌ها اجرا کنید:
    ```bash
    composer install
    ```

3.  **اجرای سرور محلی**:
    می‌توانید از وب سرور داخلی PHP برای اجرای سریع پروژه استفاده کنید. دستور زیر را در ریشه پروژه اجرا کنید:
    ```bash
    php -S localhost:8000
    ```
    سپس مرورگر خود را باز کرده و به آدرس `http://localhost:8000` مراجعه کنید.

---

## ✅ تست نرم‌افزار

این پروژه دارای یک مجموعه تست خودکار با PHPUnit است تا از صحت عملکرد توابع اصلی تبدیل تاریخ اطمینان حاصل شود. پس از نصب وابستگی‌ها، می‌توانید تست‌ها را با دستور زیر اجرا کنید:
```bash
./vendor/bin/phpunit tests
```

---

## ⚙️ جزئیات فنی

این پروژه با استفاده از تکنولوژی‌های زیر توسعه داده شده است:

- **بخش سرور (Backend)**:
  - **PHP**: برای پردازش منطق تبدیل در سمت سرور.
  - `calendar.php`: یک کلاس قدرتمند و مستقل که شامل تمام توابع محاسباتی برای تبدیل بین تقویم‌های مختلف است. این کلاس برگردان PHP از الگوریتم‌های معتبر `calendar.js` نوشته "جان واکر" است.

- **بخش کاربر (Frontend)**:
  - **HTML5** و **CSS3**: برای ساختار و استایل‌دهی صفحات وب.
  - **JavaScript (ES6)**: برای مدیریت رویدادها و پویاسازی رابط کاربری.
  - **jQuery**: برای ساده‌سازی تعامل با DOM.
  - **Flatpickr**: یک کتابخانه سبک و قدرتمند برای انتخاب‌گر تاریخ میلادی.
  - **Persian-Datepicker**: کتابخانه‌ای محبوب برای انتخاب‌گر تاریخ شمسی.

---

## 📂 ساختار پروژه

فایل‌های اصلی پروژه به شرح زیر هستند:

```
/
├── index.php         # فایل اصلی برنامه، شامل رابط کاربری و مدیریت فرم
├── calendar.php      # کتابخانه هسته برای تمام محاسبات و تبدیل‌های تاریخ
├── tests/
│   └── CalendarTest.php # اسکریپت تست برای اطمینان از صحت عملکرد توابع
└── README.md         # همین فایل (مستندات پروژه)
```

---

## ⚠️ نکته فنی: تفاوت تقویم قمری محاسباتی و استهِلالی

برای شفافیت کامل، مهم است بدانید که محاسبات مربوط به تقویم قمری در این پروژه بر اساس یک **رویکرد محاسباتی (Algorithmic)** انجام می‌شود. این یک انتخاب مهندسی‌شده و استاندارد برای نرم‌افزارها است، اما با تقویم رسمی دینی که بر اساس رؤیت هلال ماه است، تفاوت‌های ذاتی دارد.

در ادامه جزئیات فنی این دو رویکرد مقایسه شده‌اند:

---

### **تقویم محاسباتی (استفاده شده در این پروژه) 💻**

این تقویم از یک سری قوانین ثابت ریاضی برای تخمین تاریخ استفاده می‌کند تا همواره قابل پیش‌بینی و تکرارپذیر باشد.

-   **پایه و اساس**: بر اساس یک **چرخه ۳۰ ساله** دقیق عمل می‌کند.
-   **سال کبیسه**: در این چرخه، ۱۱ سال به طور ثابت به عنوان **سال کبیسه** (۳۵۵ روزه) و ۱۹ سال به عنوان سال عادی (۳۵۴ روزه) تعریف شده‌اند. الگوریتم استفاده شده در این پروژه این سال‌ها را با یک فرمول ریاضی مشخص می‌کند.
-   **طول ماه‌ها**: ماه‌ها به طور متناوب ۳۰ و ۲۹ روزه هستند و در سال کبیسه، یک روز به ماه آخر (ذی‌الحجه) اضافه می‌شود.
-   **نتیجه**: تاریخ‌ها کاملاً **قطعی و قابل پیش‌بینی** هستند و به موقعیت جغرافیایی یا شرایط جوی وابستگی ندارند.

---

### **تقویم استهِلالی (رسمی و دینی) 🔭**

این تقویم، تقویم رسمی مورد استفاده در کشورهای اسلامی برای مناسبت‌های دینی است.

-   **پایه و اساس**: شروع هر ماه قمری منوط به **رؤیت واقعی هلال ماه نو** پس از غروب آفتاب است.
-   **سال کبیسه**: مفهوم ثابتی ندارد؛ طول سال‌ها و ماه‌ها به طور طبیعی بر اساس چرخه‌های رؤیت ماه تعیین می‌شود.
-   **طول ماه‌ها**: طول یک ماه می‌تواند ۲۹ یا ۳۰ روز باشد که این مقدار تا زمان استهلال قطعی نیست.
-   **نتیجه**: تاریخ‌ها **غیرقطعی** هستند و می‌توانند بر اساس موقعیت جغرافیایی و شرایط آب و هوایی در مناطق مختلف جهان متفاوت باشند. به همین دلیل، تقویم دقیق آن را نمی‌توان برای سال‌های دور با اطمینان کامل پیش‌بینی کرد.

---

### **نتیجه‌گیری**

به دلیل این تفاوت ذاتی، تاریخ قمری محاسبه‌شده توسط این ابزار ممکن است **یک یا دو روز** با تاریخ رسمی استهِلالی اختلاف داشته باشد.

انتخاب رویکرد محاسباتی برای یک ابزار نرم‌افزاری، انتخابی استاندارد است زیرا **سرعت، پایداری و قابلیت پیش‌بینی** را تضمین می‌کند و برای اکثر کاربردهای عمومی، تاریخی و برنامه‌ریزی کاملاً معتبر است.